<!DOCTYPE html>
<html
	lang="ko"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/layout}">
	
	<head>
		<meta charset="UTF-8">
		<title>Insert title here</title>
	</head>
	
	<body>
		<div layout:fragment="content" class="content content1">
			<div class="container position-absolute top-50 start-50 translate-middle">
				<div class="row jusify-content-center">
					<div class="col-12 col-md-6 offset-md-3">
						<h1 class="display-6">환영합니다!</h1>
						<p>로그인 해주세요!</p>
						
						<form id="frmUserLogin" th:action="@{/user/loginProcess}" method="post">
							<div class="form-floating mb-2">
								<input type="text" class="form-control" id="u_id" name="u_id" placeholder="아이디">
								<label for="u_id">아이디</label>
							</div>
							
							<div class="form-floating mb-2">
								<input type="password" class="form-control" id="u_pw" name="u_pw" placeholder="패스워드">
								<label for="u_pw">패스워드</label>
							</div>
							
							<div>
								<input type="submit" id="btnLogin" class="btn btn-primary w-100 mb-2" value="Login" />
								<a th:href="@{/user/join}" class="btn btn-light w-100">Join</a>
							</div>
							
							<p class="text-muted small text-center my-3">
								<span class="mx-3" role="button">아이디 찾기</span> /
								<span class="mx-3" role="button">비밀번호 찾기</span> 
							</p>
						</form>
					</div>
				</div>
			</div>

			<script>
				$(function () {
					let u_id = $("input[name=u_id]");
					let u_pw = $("input[name=u_pw]");

					$('#frmUserLogin').on('submit', function(e) {
						if(u_id.val().replace(/^\s*/, "") == null || u_id.val().replace(/^\s*/, "") == ""){
							alert("아이디를 입력하세요");
							u_id.addClass("border-danger");
							u_id.focus();
							return false;
						}else{
							u_id.removeClass("border-danger");
						}
						
						if(u_pw.val().replace(/^\s*/, "") == null || u_pw.val().replace(/^\s*/, "") == ""){
							alert("패스워드를 입력하세요");
							u_pw.addClass("border-danger");
							u_pw.focus();
							return false;
						}else{
							u_pw.removeClass("border-danger");
						}
					})
				})
			</script>

			<script th:if="${param.error}" type="text/javascript">
				alert("로그인에 실패했습니다. 아이디 및 비밀번호를 확인해주세요.");
			</script>
		</div>
	</body>
</html>