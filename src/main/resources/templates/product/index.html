<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/layout}">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>살거리 메인</title>
</head>

<body>
	<div layout:fragment="content" class="content content1">

		<style>
.material-symbols-outlined {
	font-variation-settings: "FILL" 0, "wght" 400, "GRAD" 0, "opsz" 24;
}

*{
	list-style: none;}

div.card>button, div.card1>button {
	border-radius: 50%;
	width: 50px;
	height: 50px;
	position: absolute;
	top: 50%;
	left: 50%;
	margin-top: 55px;
	margin-left: 105px;
}

.P_CATEGORY {
	display: flex;
	width: 100%;
	justify-content: space-evenly;
	font-size: 15px;
	font-weight: bold;
	color: #8c8c8c;
}
.P_CATEGORY a{
	text-decoration: none;
	color: #8c8c8c;
	font-size: 15px;
	font-weight: bold;
}

.card {
	display: none; /* 초기에 모든 카드를 숨깁니다. */
}

.card.show {
	display: block; /* "show" 클래스가 추가된 카드만 보입니다. */
}

/* ======================메인 케로셀============================== */
.MainSwiper .swiper {
	width: 100%;
	height: 100%;
}

.MainSwiper .swiper-slide {
	text-align: center;
	font-size: 18px;
	background: #fff;
	display: flex;
	justify-content: center;
	align-items: center;
	width: 100%;
}

.MainSwiper .swiper-slide img {
	display: block;
	width: 100%;
	height: 100%;
	min-height: 300px;
	object-fit: cover;
}
/* .MainSwiper .swiper-button-next {
    left: 1200px;
  }
  .MainSwiper .swiper-button-prev {
    right: 300px;
  } */


.card img{
  width: 100%; /* 이미지의 너비를 카드의 너비와 동일하게 설정 */
  height: auto; /* 이미지의 높이를 자동으로 설정하여 비율을 유지 */
  object-fit: cover; /* 이미지를 비율에 맞게 조정하되, 컨테이너를 채우기 위해 필요한 경우 자르기 */
  aspect-ratio: 1 / 1;
}
	


/* ====================다열 캐로셀================= */
.mySwiper{
margin-bottom: 100px;
}
.mySwiper .swiper {
	width: 80%;
	height: auto;
	min-width: 280px;
	margin-bottom: 100px;
}

.swp_title {
	height: 200px;
	top: 50px;
	position: relative;
	background:
		url(https://lfmono2.cdn-nhncommerce.com/data/skin/front/moment/img/banner/slider_511517418/8a99a7aedf7f5b72ed10f7ce860fa625_21311.gif)
		no-repeat;
	background-size: 100%;
	background-position: center;
}

.mySwiper .swiper-slide {
	text-align: center;
	font-size: 18px;
	background: #fff;
	display: flex;
	justify-content: center;
	align-items: center;
	flex-direction: column;
	border: 1px solid #dcdcdc;
	padding: 10px;
	border-radius: 10px;
}

.mySwiper .swiper-slide img {
	display: block;
	width: 100%;
	height: auto;
	object-fit: contain;
	min-width: 100px;
}

.mySwiper .swiper-button-next, .mySwiper .swiper-button-prev {
	color: lightgray;
}

@media screen and (max-width: 1050px) {
	.mySwiper .swiper {
		width: 95%;
	}
	.swp_title h3 {
		margin-left: 2.5%;
	}

	
}

.P_dc_text {
	width: 100%;
	line-height: 20px;
	margin-top: 10px;
	text-align: left;
}

.cart {
	width: 90%;
	text-align: right;
}



/* ==========================스위퍼 끝========================== */
@media screen and (max-width: 768px) {
	.row {
		padding: 0;
	}
	.card h5, .card1 h5 {
		font-size: 3vw;
	}
	.card-price {
		font-size: 3.5vw;
		font-weight: bold;
	}
	
		.mySwiper{
margin-bottom: 30px;
}
}

@media screen and (min-width: 991px) {
	.mo {
		display: none;
	}
	#wrapper {
		position: relative;

	}
}

@media screen and (max-width: 991px) {
	.mo {
		display: block;
	}
	.pc {
		display: none;
	}
}

.end {
	justify-content: end;
}
</style>

		<div id="wrapper">
			<div class="container">
				<div class="row">
					<div class="col P_CATEGORY">
						<ul th:each="category : ${category_arr}">
							<li><a th:href="@{/product/list(p_category=${category})}"
								th:text="${category}"></a></li>
						</ul>
					</div>
				</div>
			</div>
			<!-- Swiper -->
			<div class="swiper MainSwiper mb-2">
				<div class="swiper-wrapper">
					<div class="swiper-slide">
						<img
							src="https://lfmono2.cdn-nhncommerce.com/data/skin/front/moment/img/banner/slider_511517418/1c490c1fae9796f517ce6df119f7a9cc_20794.jpg"
							alt="" class="img-fluid" />
					</div>
					<div class="swiper-slide">
						<img
							src="https://lfmono2.cdn-nhncommerce.com/data/skin/front/moment/img/banner/slider_511517418/1c490c1fae9796f517ce6df119f7a9cc_86336.jpg"
							alt="" class="img-fluid" />
					</div>
					<div class="swiper-slide">
						<img
							src="https://lfmono2.cdn-nhncommerce.com/data/skin/front/moment/img/banner/slider_511517418/1c490c1fae9796f517ce6df119f7a9cc_28194.jpg"
							alt="" class="img-fluid" />
					</div>
				</div>
				<div class="swiper-button-next"></div>
				<div class="swiper-button-prev"></div>
			</div>
			<!-- ============================캐로셀 끝================================ -->

			<div class="modal fade" id="exampleModal" tabindex="-1"
				aria-labelledby="exampleModalLabel" aria-hidden="true">
				<div class="modal-dialog modal-dialog-centered">
					<div class="modal-content">
						<div class="modal-header">
							<h1 class="modal-title fs-5" id="exampleModalLabel">장바구니 추가</h1>
							<button type="button" class="btn-close" data-bs-dismiss="modal"
								aria-label="Close"></button>
						</div>
						<div class="modal-body">
							<form>
								<div class="mb-3">
									<label for="recipient-name" class="col-form-label">코드</label>
									<input type="text" class="form-control" id="input_p_code" readonly>
								</div>
								<div class="mb-3">
									<h2 class="fs-5">수량</h2>
									<div class="input-group">
										<div class="input-group-prepend">
											<button class="btn btn-outline-secondary" type="button"
												id="minusBtn">-</button>
										</div>
										<input type="text" class="form-control text-center"
											id="input_p_count" value="1">
										<div class="input-group-append">
											<button class="btn btn-outline-secondary" type="button"
												id="plusBtn">+</button>
										</div>
									</div>
								</div>
							</form>
							<hr />
							<p>
								<a href="../cart/list" data-bs-toggle="tooltip" title="Tooltip">장바구니
									바로가기</a>
							</p>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-secondary"
								data-bs-dismiss="modal">닫기</button>
							<button type="button" class="btn btn-primary" id="btnInsertCart">장바구니 담기
								</button>
						</div>
					</div>
				</div>
			</div>



			<div class="container">
				<div class="row">
					<div class="col">
						<h1 class="display-6">신상품</h1>
						<hr />
						<!-- 리스트 아이템 반복 -->
						<div class="container">
							<div class="row gx-2">
								<div class="col-6 col-md-6 col-lg-4 col-xl-2 mb-2"
									th:each="dto : ${newList}">
									<div class="card border border-light h-100">
										<a
											th:href="@{/product/view(page=${page}, word=${word}, p_category=${dto.p_category}, p_seq=${dto.p_seq})}"
											class="stretched-link"> <img th:src="${dto.p_image}"
											class="card-img-top" alt="..." style="object-fit: cover;" />
										</a> 
										<span
											class="position-absolute top-0 end-0 mt-2 p-2 bg-danger text-white rounded-start-2 z-3 btnCart"
											data-bs-toggle="modal" data-bs-target="#exampleModal"
											th:data-bs-pcode="${dto.p_code}"> <i
											class="fa-solid fa-cart-shopping"></i>
										</span>
										<div class="card-body">
											<h5 class="card-title" th:text="${dto.p_name}"></h5>
											<p class="card-text fw-bold" th:if="${dto.p_dc_yn == 'Y'}">
												<span th:text="|${dto.p_dc_percent}%|" class="text-danger"></span>
												<span
													th:text="|${((dto.p_price * 100) - (dto.p_price * dto.p_dc_percent)) / 100}원|"></span><br />
												<span th:text="|${dto.p_price}원|" class="text-muted small"
													style="text-decoration: line-through;"></span>
											</p>
											<p class="card-text fw-bold" th:if="${dto.p_dc_yn == 'N'}">
												<span th:text="|${dto.p_price}원|"></span>
											</p>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>

				<div class="row btnDiv">
					<button class="btn btn-primary R_btn col-4 offset-4" id="loadMore">더보기</button>
				</div>
			</div>
			
			
			<!-- Swiper -->
			<div class="swiper mySwiper">
			<h1 class="display-6">할인상품</h1>
				<div class="swiper-wrapper">
					
					<!-- 상품 리스트 반복 시작 -->
					<div th:each="dto : ${dcList}" class="swiper-slide">
						<div class="card1 border border-light h-100">
							<a
								th:href="@{/product/view(page=${page}, word=${word}, p_category=${dto.p_category}, p_seq=${dto.p_seq})}"
								class="stretched-link"> <img th:src="${dto.p_image}"
								class="card-img-top" alt="..." style="object-fit: cover;" />
							</a> <span
								class="position-absolute top-0 end-0 mt-2 p-2 bg-danger text-white rounded-start-2 z-3 btnCart"
								data-bs-toggle="modal" data-bs-target="#exampleModal"
								th:data-bs-pcode="${dto.p_code}"> <i
								class="fa-solid fa-cart-shopping"></i>
							</span>
							<div class="card-body">
								<h5 class="card-title" th:text="${dto.p_name}"></h5>
								<p class="card-text fw-bold" th:if="${dto.p_dc_yn == 'Y'}">
									<span th:text="|${dto.p_dc_percent}%|" class="text-danger"></span>
									<span
										th:text="|${((dto.p_price * 100) - (dto.p_price * dto.p_dc_percent)) / 100}원|"></span><br />
									<span th:text="|${dto.p_price}원|" class="text-muted small"
										style="text-decoration: line-through;"></span>
								</p>
								<p class="card-text fw-bold" th:if="${dto.p_dc_yn == 'N'}">
									<span th:text="|${dto.p_price}원|"></span>
								</p>
							</div>
						</div>
					</div>
					<!-- 상품 리스트 반복 종료 -->
				</div>
				<div class="swiper-button-next"></div>
				<div class="swiper-button-prev"></div>
			</div>

		</div>
		<!-- ===============캐로셀================ -->
		<link rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
		<script
			src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
		<script>
			var swiper = new Swiper(".MainSwiper", {
				loop : true,
				pagination : {
					el : ".swiper-pagination",
					clickable : true,
				},
				navigation : {
					nextEl : ".swiper-button-next",
					prevEl : ".swiper-button-prev",
				},
			});
		</script>
		<script>
			var swiper = new Swiper(".mySwiper", {
				slidesPerView : 5,
				spaceBetween : 30,
				loop : true,
				pagination : {
					el : ".swiper-pagination",
					clickable : true,
				},
				navigation : {
					nextEl : ".swiper-button-next",
					prevEl : ".swiper-button-prev",
				},
				// 너비에 따른 설정을 추가하는 breakpoints 옵션
				breakpoints : {
					// 너비가 1100px 이하일 때
					1200 : {
						slidesPerView : 5,
						spaceBetween : 20,
					},
					768 : {
						slidesPerView : 4,
						spaceBetween : 10,
					},
					// 너비가 780px 이하일 때
					100 : {
						slidesPerView : 3,
						spaceBetween : 5,
					},
				},
			});
		</script>


		<script th:src="@{/js/product_index.js}"></script>
	</div>
</body>
</html>
