<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/layout}">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>살거리 메인</title>
</head>

<body>
	<div layout:fragment="content" class="content content1">

		<style>
.material-symbols-outlined {
	font-variation-settings: "FILL" 0, "wght" 400, "GRAD" 0, "opsz" 24;
}

div.card>button {
	border-radius: 50%;
	width: 50px;
	height: 50px;
	position: absolute;
	top: 50%;
	left: 50%;
	margin-top: 55px;
	margin-left: 105px;
}

.P_CATEGORY {
	display: flex;
	width: 100%;
	justify-content: space-evenly;
	font-size: 15px;
	font-weight: bold;
	color: #8c8c8c;
}

.card {
	display: none; /* 초기에 모든 카드를 숨깁니다. */
}

.card.show {
	display: block; /* "show" 클래스가 추가된 카드만 보입니다. */
}

/* ======================메인 케로셀============================== */
.MainSwiper .swiper {
	width: 100%;
	height: 100%;
}

.MainSwiper .swiper-slide {
	text-align: center;
	font-size: 18px;
	background: #fff;
	display: flex;
	justify-content: center;
	align-items: center;
	width: 100%;
}

.MainSwiper .swiper-slide img {
	display: block;
	width: 100%;
	height: 100%;
	min-height: 300px;
	object-fit: cover;
}
/* .MainSwiper .swiper-button-next {
    left: 1200px;
  }
  .MainSwiper .swiper-button-prev {
    right: 300px;
  } */

/* ====================다열 캐로셀================= */
.swp {
	width: 100%;
	padding: 0;
	overflow-x: hidden;
}

.mySwiper .swiper {
	width: 80%;
	height: auto;
	min-width: 280px;
}

.swp_title {
	height: 200px;
	top: 50px;
	position: relative;
	background:
		url(https://lfmono2.cdn-nhncommerce.com/data/skin/front/moment/img/banner/slider_511517418/8a99a7aedf7f5b72ed10f7ce860fa625_21311.gif)
		no-repeat;
	background-size: 100%;
	background-position: center;
}

.mySwiper .swiper-slide {
	text-align: center;
	font-size: 18px;
	background: #fff;
	display: flex;
	justify-content: center;
	align-items: center;
	flex-direction: column;
	border: 1px solid #dcdcdc;
	padding: 10px;
	border-radius: 10px;
}

.mySwiper .swiper-slide img {
	display: block;
	width: 100%;
	height: auto;
	object-fit: contain;
	min-width: 100px;
}

.mySwiper .swiper-button-next, .mySwiper .swiper-button-prev {
	color: lightgray;
}

@media screen and (max-width: 1050px) {
	.mySwiper .swiper {
		width: 95%;
	}
	.swp_title h3 {
		margin-left: 2.5%;
	}
}

.P_dc_text {
	width: 100%;
	line-height: 20px;
	margin-top: 10px;
	text-align: left;
}

.cart {
	width: 90%;
	text-align: right;
}

.P_dc_title {
	display: inline-block;
	font-size: 1rem;
	font-weight: bold;
	overflow: hidden;
	text-overflow: ellipsis;
	width: 180px; /* 텍스트를 표시할 너비 */
}

.P_dc_title:hover {
	width: 300px;
	text-decoration: underline;
}

.P_dc_per {
	font-size: 20px;
	color: rgb(177, 3, 3);
	font-weight: bold;
}

.P_dc_price {
	font-size: 18px;
	font-weight: bold;
}

.P_dc_oriPrice {
	font-size: 15px;
	color: dimgray;
	text-decoration: line-through;
}

.P_number {
	width: 30px;
	height: 30px;
	text-align: center;
	position: absolute;
	top: 0;
	left: 0;
	background-color: #1a1919;
	color: white;
	font-weight: bold;
	opacity: 0.8;
	border-radius: 10px;
}

/* ==========================스위퍼 끝========================== */
@media screen and (max-width: 768px) {
	.row {
		padding: 0;
	}
	.card h5 {
		font-size: 3vw;
	}
	.card-price {
		font-size: 3.5vw;
		font-weight: bold;
	}
}

@media screen and (min-width: 991px) {
	.mo {
		display: none;
	}
	#wrapper {
		position: relative;
		top: 55px;
	}
}

@media screen and (max-width: 991px) {
	.mo {
		display: block;
	}
	.pc {
		display: none;
	}
}

.end {
	justify-content: end;
}
</style>

		<div id="wrapper">
			<div class="container">
				<div class="row">
					<div class="col P_CATEGORY">
						<ul th:each="category : ${category_arr}">
							<li>
								<a th:href="@{/product/list(p_category=${category})}" th:text="${category}"></a>
							</li>
						</ul>
					</div>
				</div>
			</div>
			<!-- Swiper -->
			<div class="swiper MainSwiper mb-2">
				<div class="swiper-wrapper">
					<div class="swiper-slide">
						<img
							src="https://lfmono2.cdn-nhncommerce.com/data/skin/front/moment/img/banner/slider_511517418/1c490c1fae9796f517ce6df119f7a9cc_20794.jpg"
							alt="" class="img-fluid" />
					</div>
					<div class="swiper-slide">
						<img
							src="https://lfmono2.cdn-nhncommerce.com/data/skin/front/moment/img/banner/slider_511517418/1c490c1fae9796f517ce6df119f7a9cc_86336.jpg"
							alt="" class="img-fluid" />
					</div>
					<div class="swiper-slide">
						<img
							src="https://lfmono2.cdn-nhncommerce.com/data/skin/front/moment/img/banner/slider_511517418/1c490c1fae9796f517ce6df119f7a9cc_28194.jpg"
							alt="" class="img-fluid" />
					</div>
				</div>
				<div class="swiper-button-next"></div>
				<div class="swiper-button-prev"></div>
			</div>
			<!-- ============================캐로셀 끝================================ -->
			
			<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
			  <div class="modal-dialog">
			    <div class="modal-content">
			      <div class="modal-header">
			        <h1 class="modal-title fs-5" id="exampleModalLabel">New message</h1>
			        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			      </div>
			      <div class="modal-body">
			        <form>
			          <div class="mb-3">
			            <label for="recipient-name" class="col-form-label">Recipient:</label>
			            <input type="text" class="form-control" id="input_p_code">
			            <input type="text" class="form-control" id="input_p_count" placeholder="수량">
			          </div>
			          <div class="mb-3">
			            <label for="message-text" class="col-form-label">Message:</label>
			            <textarea class="form-control" id="message-text"></textarea>
			          </div>
			        </form>
			      </div>
			      <div class="modal-footer">
			        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
			        <button type="button" class="btn btn-primary">Send message</button>
			        <button type="button" class="btn btn-dark" id="btnInsertCart">test</button>
			      </div>
			    </div>
			  </div>
			</div>
			
			
			<div class="container">
				<div class="row">
					<div class="col">
						<h1 class="display-6">신상품</h1>
						<hr />
						<!-- 리스트 아이템 반복 -->
						<div class="container">
							<div class="row gx-2">
								<div class="col-6 col-md-6 col-lg-4 col-xl-3 mb-2" th:each="dto : ${newList}">
									<div class="card border border-light h-100">
										<a th:href="@{/product/view(page=${page}, word=${word}, p_category=${dto.p_category}, p_seq=${dto.p_seq})}" class="stretched-link">
											<img th:src="${dto.p_image}" class="card-img-top" alt="..." style="object-fit: cover;" />
										</a>
										<span class="position-absolute top-0 end-0 mt-2 p-2 bg-danger text-white rounded-start-2 z-3 btnCart" data-bs-toggle="modal" data-bs-target="#exampleModal" th:data-bs-pcode="${dto.p_code}">
										<i class="fa-solid fa-cart-shopping"></i>
										</span>
										<div class="card-body">
											<h5 class="card-title" th:text="${dto.p_name}"></h5>
											<p class="card-text fw-bold" th:if="${dto.p_dc_yn == 'Y'}">
												<span th:text="|${dto.p_dc_percent}%|" class="text-danger"></span>
												<span
													th:text="|${((dto.p_price * 100) - (dto.p_price * dto.p_dc_percent)) / 100}원|"></span><br />
												<span th:text="|${dto.p_price}원|" class="text-muted small"
													style="text-decoration: line-through;"></span>
											</p>
											<p class="card-text fw-bold" th:if="${dto.p_dc_yn == 'N'}">
												<span th:text="|${dto.p_price}원|"></span>
											</p>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>

				<div class="row btnDiv">
					<button class="btn btn-primary R_btn col-4 offset-4" id="loadMore">더보기</button>
				</div>
			</div>
			<!-- Swiper -->
			<div class="swiper mySwiper">
				<div class="swiper-wrapper">
					<div class="swiper-slide">
						<div class="P_number">1</div>
						<img
							src="https://cdn-mart.baemin.com/sellergoods/main/63f63439-a939-4369-8bd5-53c0f4f2ca24.jpg?h=300&w=300"
							alt="" />
						<p class="P_dc_text">
							<span class="material-symbols-outlined cart">
								shopping_cart </span> <br /> <span class="P_dc_title">비브라
								닭정육 브라질산12Kg</span> <br /> <span class="P_dc_per">8%</span> <br />
							<span class="P_dc_oriPrice">48,900원</span> <span
								class="P_dc_price">44,900원</span>
						</p>
					</div>
					<div class="swiper-slide">
						<div class="P_number">2</div>
						<img
							src="https://cdn-mart.baemin.com/sellergoods/main/63f63439-a939-4369-8bd5-53c0f4f2ca24.jpg?h=300&w=300"
							alt="" />
						<p class="P_dc_text">
							<span class="P_dc_title">비브라 닭정육 브라질산12Kg</span> <br /> <span
								class="P_dc_per">8%</span> <br /> <span
								class="P_dc_oriPrice">48,900원</span> <span class="P_dc_price">44,900원</span>
						</p>
					</div>
					<div class="swiper-slide">
						<div class="P_number">3</div>
						<img
							src="https://cdn-mart.baemin.com/sellergoods/main/63f63439-a939-4369-8bd5-53c0f4f2ca24.jpg?h=300&w=300"
							alt="" />
						<p class="P_dc_text">
							<span class="P_dc_title">비브라 닭정육 브라질산12Kg</span> <br /> <span
								class="P_dc_per">8%</span> <br /> <span
								class="P_dc_oriPrice">48,900원</span> <span class="P_dc_price">44,900원</span>
						</p>
					</div>
					<div class="swiper-slide">
						<div class="P_number">4</div>
						<img
							src="https://cdn-mart.baemin.com/sellergoods/main/63f63439-a939-4369-8bd5-53c0f4f2ca24.jpg?h=300&w=300"
							alt="" />
						<p class="P_dc_text">
							<span class="P_dc_title">비브라 닭정육 브라질산12Kg</span> <br /> <span
								class="P_dc_per">8%</span> <br /> <span
								class="P_dc_oriPrice">48,900원</span> <span class="P_dc_price">44,900원</span>
						</p>
					</div>
					<div class="swiper-slide">
						<div class="P_number">5</div>
						<img
							src="https://cdn-mart.baemin.com/sellergoods/main/63f63439-a939-4369-8bd5-53c0f4f2ca24.jpg?h=300&w=300"
							alt="" />
						<p class="P_dc_text">
							<span class="P_dc_title">비브라 닭정육 브라질산12Kg</span> <br /> <span
								class="P_dc_per">8%</span> <br /> <span
								class="P_dc_oriPrice">48,900원</span> <span class="P_dc_price">44,900원</span>
						</p>
					</div>
					<div class="swiper-slide">
						<div class="P_number">6</div>
						<img
							src="https://cdn-mart.baemin.com/sellergoods/main/63f63439-a939-4369-8bd5-53c0f4f2ca24.jpg?h=300&w=300"
							alt="" />
						<p class="P_dc_text">
							<span class="P_dc_title">비브라 닭정육 브라질산12Kg</span> <br /> <span
								class="P_dc_per">8%</span> <br /> <span
								class="P_dc_oriPrice">48,900원</span> <span class="P_dc_price">44,900원</span>
						</p>
					</div>
					<div class="swiper-slide">
						<div class="P_number">7</div>
						<img
							src="https://cdn-mart.baemin.com/sellergoods/main/63f63439-a939-4369-8bd5-53c0f4f2ca24.jpg?h=300&w=300"
							alt="" />
						<p class="P_dc_text">
							<span class="P_dc_title">비브라 닭정육 브라질산12Kg</span> <br /> <span
								class="P_dc_per">8%</span> <br /> <span
								class="P_dc_oriPrice">48,900원</span> <span class="P_dc_price">44,900원</span>
						</p>
					</div>
					<div class="swiper-slide">
						<div class="P_number">8</div>
						<img
							src="https://cdn-mart.baemin.com/sellergoods/main/63f63439-a939-4369-8bd5-53c0f4f2ca24.jpg?h=300&w=300"
							alt="" />
						<p class="P_dc_text">
							<span class="P_dc_title">비브라 닭정육 브라질산12Kg</span> <br /> <span
								class="P_dc_per">8%</span> <br /> <span
								class="P_dc_oriPrice">48,900원</span> <span class="P_dc_price">44,900원</span>
						</p>
					</div>
					<div class="swiper-slide">
						<div class="P_number">9</div>
						<img
							src="https://cdn-mart.baemin.com/sellergoods/main/63f63439-a939-4369-8bd5-53c0f4f2ca24.jpg?h=300&w=300"
							alt="" />
						<p class="P_dc_text">
							<span class="P_dc_title">비브라 닭정육 브라질산12Kg</span> <br /> <span
								class="P_dc_per">8%</span> <br /> <span
								class="P_dc_oriPrice">48,900원</span> <span class="P_dc_price">44,900원</span>
						</p>
					</div>
				</div>
				<div class="swiper-button-next"></div>
				<div class="swiper-button-prev"></div>
			</div>
		</div>
		<!-- ===============캐로셀================ -->
		<link rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
		<script
			src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
		<script>
      var swiper = new Swiper(".MainSwiper", {
        loop: true,
        pagination: {
          el: ".swiper-pagination",
          clickable: true,
        },
        navigation: {
          nextEl: ".swiper-button-next",
          prevEl: ".swiper-button-prev",
        },
      });
    </script>
		<script>
      var swiper = new Swiper(".mySwiper", {
        slidesPerView: 5,
        spaceBetween: 30,
        loop: true,
        pagination: {
          el: ".swiper-pagination",
          clickable: true,
        },
        navigation: {
          nextEl: ".swiper-button-next",
          prevEl: ".swiper-button-prev",
        },
        // 너비에 따른 설정을 추가하는 breakpoints 옵션
        breakpoints: {
          // 너비가 1100px 이하일 때
          1200: {
            slidesPerView: 5,
            spaceBetween: 20,
          },
          768: {
            slidesPerView: 4,
            spaceBetween: 10,
          },
          // 너비가 780px 이하일 때
          100: {
            slidesPerView: 3,
            spaceBetween: 5,
          },
        },
      });
    </script>


		<script th:src="@{/js/product_index.js}"></script>
	</div>
</body>
</html>
